SELECT first_name, last_name, department_id, salary
FROM employees
WHERE department_id IN
	(SELECT department_id
	 FROM employees
	 WHERE commission_pct > 0)
AND salary IN
	(SELECT salary
	 FROM employees
	 WHERE commission_pct > 0);

SELECT e.first_name, e.last_name, d.department_name, e.salary
FROM employees AS e, departments AS d
WHERE e.department_id = d.department_id
AND e.salary IN
	(SELECT e.salary
	FROM employees AS e, departments AS d
	WHERE d.location_id = 1700)
AND e.commission_pct IN
	(SELECT e.commission_pct
	FROM employees AS e, departments AS d
	WHERE d.location_id = 1700);

SELECT first_name, last_name, hire_date, salary
FROM employees
WHERE salary IN
	(SELECT salary
	FROM employees
	WHERE last_name = 'Kochhar')
AND commission_pct IN
	(SELECT commission_pct
	FROM employees
	WHERE last_name = 'Kochhar')
EXCEPT
SELECT first_name, last_name, hire_date, salary
FROM employees
WHERE last_name = 'Kochhar';

SELECT e.employee_id, e.first_name, e.last_name
FROM employees AS e, locations AS l, departments AS d
WHERE e.department_id = d.department_id
AND d.location_id = l.location_id
AND l.city LIKE 'T%';

SELECT first_name, last_name, salary, department_id, AVG(salary) AS avg_salary
FROM employees
WHERE salary > 
	(SELECT AVG(salary) AS avg_salary
	FROM employees
	GROUP BY DEPARTMENT_ID);

SELECT AVG(salary)
FROM employees
GROUP BY department_id;